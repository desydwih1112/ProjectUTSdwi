{"ast":null,"code":"// Next.js API route support: https://nextjs.org/docs/api-routes/introduction\nimport mysql from 'serverless-mysql';\nconst db = mysql({\n  config: {\n    host: 'localhost',\n    port: '3306',\n    database: 'db_myblog',\n    user: 'root',\n    password: ''\n  }\n});\n\nasync function execQuery({\n  qry\n}) {\n  try {\n    const data = await db.query(qry);\n    await db.end();\n    return data;\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nexport default (async (req, res) => {\n  try {\n    const data = await execQuery({\n      qry: 'select * from tbl_kategori'\n    });\n    res.status(200).json(data);\n  } catch (err) {\n    console.log(err);\n  }\n});","map":{"version":3,"sources":["E:/kuliah smester 4 pemrograman web/myblog/pages/api/hello.js"],"names":["mysql","db","config","host","port","database","user","password","execQuery","qry","data","query","end","err","console","log","req","res","status","json"],"mappings":"AAAA;AACA,OAAOA,KAAP,MAAkB,kBAAlB;AACA,MAAMC,EAAE,GAAGD,KAAK,CAAC;AACfE,EAAAA,MAAM,EAAG;AACPC,IAAAA,IAAI,EAAG,WADA;AAEPC,IAAAA,IAAI,EAAG,MAFA;AAGPC,IAAAA,QAAQ,EAAG,WAHJ;AAIPC,IAAAA,IAAI,EAAG,MAJA;AAKPC,IAAAA,QAAQ,EAAG;AALJ;AADM,CAAD,CAAhB;;AASA,eAAeC,SAAf,CAAyB;AAACC,EAAAA;AAAD,CAAzB,EAA+B;AAC7B,MAAI;AACF,UAAMC,IAAI,GAAG,MAAMT,EAAE,CAACU,KAAH,CAASF,GAAT,CAAnB;AACA,UAAMR,EAAE,CAACW,GAAH,EAAN;AACA,WAAOF,IAAP;AACD,GAJD,CAIC,OAAMG,GAAN,EAAU;AACTC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD;AACF;;AACD,gBAAe,OAAOG,GAAP,EAAYC,GAAZ,KAAoB;AACjC,MAAG;AACD,UAAMP,IAAI,GAAG,MAAMF,SAAS,CAAC;AAC3BC,MAAAA,GAAG,EAAG;AADqB,KAAD,CAA5B;AAGAQ,IAAAA,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBT,IAArB;AACD,GALD,CAKC,OAAMG,GAAN,EAAU;AACTC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD;AACF,CATD","sourcesContent":["// Next.js API route support: https://nextjs.org/docs/api-routes/introduction\nimport mysql from 'serverless-mysql'\nconst db = mysql({\n  config : {\n    host : 'localhost',\n    port : '3306',\n    database : 'db_myblog',\n    user : 'root',\n    password : ''\n  }\n})\nasync function execQuery({qry}){\n  try {\n    const data = await db.query(qry)\n    await db.end()\n    return data\n  }catch(err){\n    console.log(err)\n  }\n}\nexport default async (req, res) => {\n  try{\n    const data = await execQuery({\n      qry : 'select * from tbl_kategori'\n    })\n    res.status(200).json(data)\n  }catch(err){\n    console.log(err)\n  }\n}\n"]},"metadata":{},"sourceType":"module"}